<!DOCTYPE html>
<html lang="ko" xml:lang="ko">
<head>
<meta charset="utf-8">
<script src="../pb_inc.js"></script>
<script>include.meta();</script>
<!-- ======================== CSS / JS ======================== -->
<script>include.styles();</script>
<script>include.scripts();</script>
<!--// ======================== CSS / JS ======================== -->
<script>include.title();</script>
</head>  

<body>
<div class="_pb-guide">
	<!-- ========== ê³µí†µ í—¤ë” ========== -->
	<script>include.header();</script>
	<!--// ========== ê³µí†µ í—¤ë” ========== -->

	<!-- ========== ì»¨í…ì¸  ì˜ì—­ ========== -->
	<main class="_pb-container">
		<div class="_pb-contents">
			<div class="_pb-side-bar">
				<script>include.sidebar('Tips');</script>
			</div>

			<article class="_pb-article">
				<div class="_pb-page-tit">
					<h2>Scroll event</h2>
					<!-- <p class="_pb-page-desc">ê°€ì´ë“œ ì„¤ëª…</p> -->
				</div>

				<section class="_pb-section">
					<h3 class="_pb-section-tit">ìŠ¤í¬ë¡¤ ê°ì§€</h3>
					<h4 class="_pb-component-tit">ë™ì‘ ê°ì§€</h4>
					<!-- <div class="_pb-section-tips">
						<button type="button" class="_pb-tips-btn"><i class="icon-css-info-bold"></i></button>
						<ul class="_pb-info-list">
							<li class="_pb-info-item"></li>
						</ul>
					</div> -->
					<!-- <p class="_pb-section-desc"></p> -->
					<div class="_pb-component _pb-component--border inactive">
						<button type="button" class="_pb-toggle-btn"><i class="icon icon-chevron-down bg-black"></i></button>
						<!-- ========== Component ========== -->
<pre>
let scrolling;
let movement;

element.addEventListener('scroll', e => { 
	if ( !scrolling ) { 
		movement = true;
		console.log('scrolling')
	}

	clearTimeout(scrolling);

	scrolling = setTimeout(() => {
		movement = false;
		scrolling = undefined;
		console.log('stop scrolling')
	}, 200)
});
</pre>
						<!--// ========== Component ========== -->	
					</div><!--// _pb-component -->
					
					<h4 class="_pb-component-tit">ìœ„ì•„ë˜ ê°ì§€</h4>
					<p class="_pb-component-desc">
						ìŠ¤í¬ë¡¤ì€ ë¯¸ì„¸ ì§„ë™ì´ ìˆì–´ì„œ 1px ì›€ì§ì—¬ë„ ê³„ì† ë°©í–¥ ë°”ë€ŒëŠ” ê²½ìš° ìˆìŒ. ê·¸ë˜ì„œ ë³´í†µ threshold ë‘ .
					</p>
					<div class="_pb-component _pb-component--border inactive">
						<button type="button" class="_pb-toggle-btn"><i class="icon icon-chevron-down bg-black"></i></button>
						<!-- ========== Component ========== -->
<pre>
let lastScrollY = window.scrollY;
const threshold = 5;

window.addEventListener('scroll', () => {
  const currentScrollY = window.scrollY;
  const diff = currentScrollY - lastScrollY;

  if (Math.abs(diff) < threshold) return;

  if (diff > 0) {
    console.log('ğŸ‘‡ down');
  } else {
    console.log('ğŸ‘† up');
  }

  lastScrollY = currentScrollY;
}, { passive: true });
</pre>
						<p class="_pb-pre-guide">//</p>
						<!--// ========== Component ========== -->	
					</div><!--// _pb-component -->
					<p class="_pb-component-desc">
						ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì•ˆì—ì„œ ì—°ì‚° ì§ì ‘ ì•ˆ ëŒë¦¬ê³  rAF ë¬¶ê¸°:
					</p>
					<div class="_pb-component _pb-component--border inactive">
						<button type="button" class="_pb-toggle-btn"><i class="icon icon-chevron-down bg-black"></i></button>
						<!-- ========== Component ========== -->
<pre>
let lastScrollY = window.scrollY;
let ticking = false;

function updateScrollDir() {
  const currentScrollY = window.scrollY;
  const diff = currentScrollY - lastScrollY;

  if (Math.abs(diff) > 5) {
    state.scrollDir = diff > 0 ? 'down' : 'up';
    lastScrollY = currentScrollY;
  }

  ticking = false;
}

window.addEventListener('scroll', () => {
  if (!ticking) {
    requestAnimationFrame(updateScrollDir);
    ticking = true;
  }
}, { passive: true });
</pre>
						<p class="_pb-pre-guide">//</p>
						<!--// ========== Component ========== -->	
					</div><!--// _pb-component -->
					<p class="_pb-component-desc">
						threshold ì—†ëŠ” ê¸°ë³¸ íƒ€ì…
					</p>
					<div class="_pb-component _pb-component--border inactive">
						<button type="button" class="_pb-toggle-btn"><i class="icon icon-chevron-down bg-black"></i></button>
						<!-- ========== Component ========== -->
<pre>
let lastScrollY = window.scrollY;

window.addEventListener('scroll', () => {
  const currentScrollY = window.scrollY;

  if (currentScrollY > lastScrollY) {
    console.log('ğŸ‘‡ scroll down');
  } else if (currentScrollY < lastScrollY) {
    console.log('ğŸ‘† scroll up');
  }

  lastScrollY = currentScrollY;
}, { passive: true });
</pre>
						<p class="_pb-pre-guide">//</p>
						<!--// ========== Component ========== -->	
					</div><!--// _pb-component -->
				</section><!--// _pb-section  -->
			</article>
		</div>
	</main>
	<!--// ========== ì»¨í…ì¸  ì˜ì—­ ========== -->
</div><!--// _pb-guide -->

<script>include.bottom();</script>

</body>
</html>
